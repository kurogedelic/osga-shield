# OSGA Shield Boot Configuration
# Raspberry Pi Zero 2 W - Minimal Boot Setup

# GPU Memory (minimum needed for framebuffer)
gpu_mem=16

# Disable unnecessary interfaces
dtparam=audio=off
enable_uart=0

# Enable I2C1 for MPU6050
dtparam=i2c_arm=on
dtparam=i2c_baudrate=400000

# Software I2C for Grove connector (GPIO22/23)
# Will be configured via device tree overlay or bit-banging driver

# Enable SPI for display
dtparam=spi=on

# ILI9341 Display via DRM driver (native kernel support)
# Updated GPIO pins: reset:25, dc:24, cs:8, led:12
dtoverlay=fbtft,ili9341,rotate=90,speed=48000000,fps=60,gpios=reset:25,dc:24,cs:8,led:12

# Enable PWM for LCD backlight control
dtoverlay=pwm,pin=12,func=4

# I2S Audio for PCM5102
dtoverlay=hifiberry-dac

# Disable HDMI to save power
hdmi_blanking=2

# Disable Bluetooth to save power (optional)
dtoverlay=disable-bt

# Disable WiFi power management
dtparam=ant2=off

# Boot faster
boot_delay=0
disable_splash=1